<div class="d-flex dashboard mt-5 pt-4">
  <div class="container-fluid">
    <!-- PROFILE CARDS 1 -->

    <div class="cards-6 section-gray">
      <div class="container-fluid w-100">
        <div class="5">Available Artisans within your Selected Category</div>


     
       
        <div class="row mt-4 cursor">
          <div
            class="col-md-4"
            (click)="openModal(template)"
            *ngFor="
              let data of artisanData
                | paginate
                  : {
                      id: 'listing_pagination',
                      itemsPerPage: 6,
                      currentPage: page,
                      totalItems: totalRecord
                    }
                
            "
          >
            <div class="card card-profile  " (click)="onEdit(data)">
              <div class="card-avatar " >
                <a>
                  <img class="img-fluid  " style="width: 200px; height: 200px; object-fit:fill;" *ngIf="data.profileImage" src="data:image/png;base64,{{ data.profileImage}}" />
                 <div class="img " *ngIf="!data.profileImage ">
                  <ngx-avatar size="130" name="{{data.firstName}} {{data.lastName}}"></ngx-avatar></div>
                  <!-- <img class="img img-fluid " *ngIf="!data.profileImage" src="/assets/images/avatar1.webp" /> -->
                </a>
              </div>

              <div class="table">
                <h4 class="card-caption">
                  {{ data.name }} 
                 
                </h4>
                <p class="category text-muted h6 pt-3">{{ data.firstName }} {{data.lastName}}</p>



                <!-- <p class=" text-center mt-2" >
                  
                  {{data.profession}}

                </p> -->

                <div class="d-flex justify-content-between">
                  <div class="list-inline-item mt-2 small">
                    <i class="bi bi-geo-alt-fill"></i>{{ data.location }}
                  </div>
               
                </div>
                <ngx-star-rating [id]="data.rating" [(ngModel)]="data.rating" [disabled]="true"></ngx-star-rating>

              </div>
            </div>
          </div>
        </div>

        <div *ngIf="artisanData?.length == 0">
          no artisan within you
        </div>
      </div>
    </div>
  </div>
</div>

<div>
  
</div>


<!-- modal for invoice -->
<ng-template #template>
  <div class="modal-header">
    <h4 class="modal-title pull-left">Create Order</h4>
    <button
      type="button"
      class="btn-close close pull-right"
      aria-label="Close"
      (click)="modalRef?.hide()"
    >
      <span aria-hidden="true" class="visually-hidden">&times;</span>
    </button>
  </div>

  <div class="modal-body">
    <!-- modal form -->
    <form
      [formGroup]="formValue" (ngSubmit)="onSubmitCheck(this.formValue.value)"
     
     
    >
      <div class="mb-1">
        <label for="exampleInputEmail1" class="form-label">Full Name</label>
        <input
          formControlName="Name"
          type="text"
          class="form-control"
          id="exampleInputText"
          aria-describedby="emailHelp"
        />
      </div>

      <div class="mb-1">
        <label for="exampleInputPassword1" class="form-label"
          >Address</label
        >
        <input
          formControlName="PropertyAddress"
          type="text"
          class="form-control"
          id="exampleInputPassword1"
        />
      </div>
    

     
      <div class="mb-1">
        <label for="exampleInputPassword1" class="form-label"
          >Phone Number</label
        >
        <input
          formControlName="PhoneNumber"
          type="number"
          class="form-control"
        />
      </div>
      <!-- <div class="mb-1">
        <label for="exampleInputPassword1" class="form-label"
          >Alternative Number</label
        >
        <input
          formControlName="AlternateNumber"
          type="number"
          class="form-control"
        />
      </div> -->
   

  <!-- <div>
      <output *ngIf=successResponse class="success"><b>{{successResponse}}</b></output>
  </div> -->
      
<div class="my-2">
        <label for="exampleInputPassword1" class="form-label"
          >Description</label
        >
        <input
          formControlName="Issue"
          type="textarea"
          class="form-control"
          id="exampleInputPassword1"
        />
      </div>
      <div class="mt-4">
        <label for="exampleInputPassword1" class="form-label me-2"
          >Inspection Date and Time</label
        >
        <input
          formControlName="InspectionDateAndTime"
          type="datetime-local"
          [(ngModel)]="value"
          #input
          (change)="onChange(input.value)"
        />
        <br>
       <div class="my-2">
        <span >Support formats are .jpg .gif .png </span><br>
       <span>Pictures may not exceed 2MB</span>
       </div>
      </div>

    

     

          <label class="btn btn-default">
            <input type="file" multiple (change)="selectFiles($event)" formControlName="files" />
          </label>

    <div class="mt-4">
      <!-- <input type="file" formControlName="Files" (change)="uploadfile($event)" multiple> -->
    </div>
<div class="h5 " style="color: red;">{{message }}</div>

<button class="btn btn-info mt-3" id='ModelId'    type="submit">Send</button>
    </form>
  </div>
  
</ng-template>